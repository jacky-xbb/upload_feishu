# æµ‹è¯•è„šæœ¬è¯´æ˜

## create_test_structure.py

ç”¨äºåˆ›å»ºç¬¦åˆ BSH æ–‡æ¡£ç®¡ç†è§„èŒƒçš„æµ‹è¯•ç›®å½•ç»“æ„ã€‚

### åŠŸèƒ½

è¯¥è„šæœ¬ä¼šåˆ›å»ºå®Œæ•´çš„æµ‹è¯•ç›®å½•ç»“æ„ï¼ŒåŒ…æ‹¬ï¼š

1. **01_BCG** - BCG å’¨è¯¢é¡¹ç›®æ–‡æ¡£
   - ç›´æ¥åŒ…å« `00_Publish` ç›®å½•
   - åŒ…å«å¤šä¸ªæµ‹è¯•æ–‡ä»¶å’Œå­ç›®å½•

2. **02_Policy** - æ”¿ç­–æ–‡æ¡£
   - `02_GPS` - å…¨çƒæ”¿ç­–æ ‡å‡†ï¼ˆ3ä¸ªé¡¹ç›®ï¼‰
   - `03_EPS` - ç¯å¢ƒæ”¿ç­–æ ‡å‡†ï¼ˆ2ä¸ªé¡¹ç›®ï¼‰
   - å…¶ä»–ç›®å½•ï¼ˆ01_List Report, 04_Shared infoï¼‰- ä¸åº”è¢«æ‰«æ

3. **03_Reg_WI** - åŒºåŸŸå·¥ä½œæŒ‡ä»¤
   - `02_in working Reg WI` - å·¥ä½œä¸­çš„æŒ‡ä»¤ï¼ˆ4ä¸ªé¡¹ç›®ï¼‰
     - DS1 é¡¹ç›®ï¼ˆ2ä¸ªï¼‰
     - DS2 é¡¹ç›®ï¼ˆ1ä¸ªï¼‰
     - DS3 é¡¹ç›®ï¼ˆ1ä¸ªï¼‰
   - å…¶ä»–ç›®å½•ï¼ˆ01_List Report, 03_Deleted Reg WI, 04_Shared infoï¼‰- ä¸åº”è¢«æ‰«æ

### ä½¿ç”¨æ–¹æ³•

#### 1. åˆ›å»ºé»˜è®¤æµ‹è¯•æ•°æ®

```bash
cd /Users/bxb/workbench/BSH/upload_feishu
python scripts/create_test_structure.py
```

è¿™ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º `test_data` æ–‡ä»¶å¤¹ã€‚

#### 2. åˆ›å»ºåˆ°æŒ‡å®šç›®å½•

```bash
python scripts/create_test_structure.py my_custom_test_dir
```

#### 3. åˆ›å»ºåˆ°ç»å¯¹è·¯å¾„

```bash
python scripts/create_test_structure.py /tmp/bsh_test
```

### é¢„æœŸç»“æœ

è„šæœ¬æ‰§è¡Œåä¼šæ˜¾ç¤ºï¼š

- âœ… åˆ›å»ºçš„ç›®å½•å’Œæ–‡ä»¶æ•°é‡
- ğŸ“Š ç»Ÿè®¡ä¿¡æ¯
- ğŸ“ é¢„æœŸæ‰«æç»“æœï¼ˆå“ªäº›åº”è¯¥è¢«æ‰«æï¼Œå“ªäº›ä¸åº”è¯¥ï¼‰
- ğŸ’¡ æµ‹è¯•å‘½ä»¤

### æµ‹è¯•ä¸Šä¼ å·¥å…·

åˆ›å»ºæµ‹è¯•æ•°æ®åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•ä¸Šä¼ å·¥å…·ï¼š

#### æ¼”ç»ƒæ¨¡å¼ï¼ˆä¸å®é™…ä¸Šä¼ ï¼‰

```bash
python feishu_uploader.py test_data --dry-run
```

#### å®é™…ä¸Šä¼ ï¼ˆä¸²è¡Œï¼‰

```bash
python feishu_uploader.py test_data
```

#### å¹¶å‘ä¸Šä¼ 

```bash
python feishu_uploader.py test_data --concurrent
```

### éªŒè¯æ‰«æé€»è¾‘

æ­£ç¡®çš„æ‰«æç»“æœåº”è¯¥æ˜¯ï¼š

- âœ… **åº”è¯¥æ‰¾åˆ° 10 ä¸ª** `00_Publish` ç›®å½•
  - 1 ä¸ªæ¥è‡ª `01_BCG`
  - 3 ä¸ªæ¥è‡ª `02_Policy/02_GPS`
  - 2 ä¸ªæ¥è‡ª `02_Policy/03_EPS`
  - 4 ä¸ªæ¥è‡ª `03_Reg_WI/02_in working Reg WI`

- âŒ **ä¸åº”è¯¥æ‰¾åˆ° 5 ä¸ª** `00_Publish` ç›®å½•ï¼ˆè¿™äº›æ˜¯æ•…æ„åˆ›å»ºçš„å¹²æ‰°é¡¹ï¼‰
  - `02_Policy/01_List Report/00_Publish`
  - `02_Policy/04_Shared info/00_Publish`
  - `03_Reg_WI/01_List Report/00_Publish`
  - `03_Reg_WI/03_Deleted Reg WI/00_Publish`
  - `03_Reg_WI/04_Shared info/00_Publish`

å¦‚æœæ‰«æåˆ°äº†ä¸åº”è¯¥æ‰«æçš„ç›®å½•ï¼Œè¯´æ˜æ‰«æé€»è¾‘æœ‰é—®é¢˜ã€‚

### æ¸…ç†æµ‹è¯•æ•°æ®

```bash
rm -rf test_data
```

æˆ–è€…ä½¿ç”¨æ‚¨æŒ‡å®šçš„ç›®å½•åç§°ã€‚

### ç›®å½•ç»“æ„ç¤ºä¾‹

```
test_data/
â”œâ”€â”€ 01_BCG/
â”‚   â””â”€â”€ 00_Publish/
â”‚       â”œâ”€â”€ BCG_Strategy_2024.docx
â”‚       â”œâ”€â”€ BCG_Analysis_Report.pdf
â”‚       â”œâ”€â”€ BCG_Presentation.pptx
â”‚       â””â”€â”€ Appendix/
â”‚           â””â”€â”€ BCG_Data_Tables.xlsx
â”‚
â”œâ”€â”€ 02_Policy/
â”‚   â”œâ”€â”€ 01_List Report/
â”‚   â”‚   â””â”€â”€ 00_Publish/  â† âŒ ä¸åº”è¢«æ‰«æ
â”‚   â”œâ”€â”€ 02_GPS/
â”‚   â”‚   â”œâ”€â”€ GPS_1_Policy Management.../
â”‚   â”‚   â”‚   â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
â”‚   â”‚   â”œâ”€â”€ GPS_2_Risk Assessment.../
â”‚   â”‚   â”‚   â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
â”‚   â”‚   â””â”€â”€ GPS_3_Compliance.../
â”‚   â”‚       â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
â”‚   â”œâ”€â”€ 03_EPS/
â”‚   â”‚   â”œâ”€â”€ EPS_1_Environmental.../
â”‚   â”‚   â”‚   â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
â”‚   â”‚   â””â”€â”€ EPS_2_Sustainability.../
â”‚   â”‚       â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
â”‚   â””â”€â”€ 04_Shared info/
â”‚       â””â”€â”€ 00_Publish/  â† âŒ ä¸åº”è¢«æ‰«æ
â”‚
â””â”€â”€ 03_Reg_WI/
    â”œâ”€â”€ 01_List Report/
    â”‚   â””â”€â”€ 00_Publish/  â† âŒ ä¸åº”è¢«æ‰«æ
    â”œâ”€â”€ 02_in working Reg WI/
    â”‚   â”œâ”€â”€ DS1 ItB.../
    â”‚   â”‚   â”œâ”€â”€ HQ_R_451.../
    â”‚   â”‚   â”‚   â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
    â”‚   â”‚   â””â”€â”€ HQ_R_452.../
    â”‚   â”‚       â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
    â”‚   â”œâ”€â”€ DS2 LtO.../
    â”‚   â”‚   â””â”€â”€ China_R_481.../
    â”‚   â”‚       â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
    â”‚   â””â”€â”€ DS3 CtL.../
    â”‚       â””â”€â”€ China_R_746.../
    â”‚           â””â”€â”€ 00_Publish/  â† âœ… åº”è¢«æ‰«æ
    â”œâ”€â”€ 03_Deleted Reg WI/
    â”‚   â””â”€â”€ 00_Publish/  â† âŒ ä¸åº”è¢«æ‰«æ
    â””â”€â”€ 04_Shared info/
        â””â”€â”€ 00_Publish/  â† âŒ ä¸åº”è¢«æ‰«æ
```

### æ³¨æ„äº‹é¡¹

1. è„šæœ¬ä¼šåˆ›å»ºçœŸå®çš„æ–‡ä»¶å’Œç›®å½•ï¼Œè¯·ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
2. æµ‹è¯•æ–‡ä»¶éƒ½æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œå†…å®¹åŒ…å«æ–‡ä»¶è¯´æ˜å’Œåˆ›å»ºæ—¶é—´
3. æ•…æ„åœ¨ä¸åº”è¢«æ‰«æçš„ç›®å½•ä¸‹åˆ›å»ºäº† `00_Publish`ï¼Œç”¨äºéªŒè¯æ‰«æé€»è¾‘çš„æ­£ç¡®æ€§
4. æ‰€æœ‰æ–‡ä»¶éƒ½ä½¿ç”¨ UTF-8 ç¼–ç ï¼Œæ”¯æŒä¸­æ–‡æ–‡ä»¶å
